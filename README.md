# üöÄ Shai.pro Security Platform

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞**

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

- **log-generator** - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–æ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **ml-detector** - ML-–¥–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª–∏–π  
- **parser** - –ø–∞—Ä—Å–µ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞

### üéØ –û–¥–∏–Ω –∫–ª–∏–∫ - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ
make demo

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
make build && make up
```

### üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
make status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ
make health

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
make incidents

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ML-–∞–Ω–∞–ª–∏–∑–∞
make ml-stats

# –°–∏–º—É–ª—è—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
make demo-block
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
make health

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
make incidents
```

## API Endpoints

### Parser (–ø–æ—Ä—Ç 8000)
- `GET /healthz` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `POST /ingest` - –ø—Ä–∏–µ–º –ª–æ–≥–æ–≤
- `GET /incidents` - —Å–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- `POST /simulate_block` - —Å–∏–º—É–ª—è—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ IP

### ML Detector (–ø–æ—Ä—Ç 8001)
- `GET /healthz` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `POST /detect` - –¥–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
make restart-parser
make restart-ml
make restart-generator

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs                    # –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make logs-parser            # —Ç–æ–ª—å–∫–æ parser
make logs-ml               # —Ç–æ–ª—å–∫–æ ml-detector
make logs-generator        # —Ç–æ–ª—å–∫–æ log-generator
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

```bash
# –°–∏–º—É–ª—è—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ IP
make demo-block

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
make incidents
```

## –û—á–∏—Å—Ç–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volumes
make clean

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make rebuild
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
log-generator ‚Üí parser ‚Üí ml-detector
     ‚Üì           ‚Üì         ‚Üì
  –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç  –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç  –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç
   –ª–æ–≥–∏      —Å–æ–±—ã—Ç–∏—è     –∏ –¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç
            –∏ —Ö—Ä–∞–Ω–∏—Ç     –∞–Ω–æ–º–∞–ª–∏–∏
            –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:
1. **log-generator** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ª–æ–≥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ **parser**
2. **parser** –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ **ml-detector** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
3. **ml-detector** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **parser** —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ ML-–∞–Ω–∞–ª–∏–∑–∞ (score > 0.5)

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### log-generator
- `PARSER_URL` - URL –ø–∞—Ä—Å–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://parser:8000/ingest)
- `RATE` - —á–∞—Å—Ç–æ—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –≤ —Å–µ–∫—É–Ω–¥—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)
- `BATCH` - —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ —Å–æ–±—ã—Ç–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç health check endpoints –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö.

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
docker stats
```
